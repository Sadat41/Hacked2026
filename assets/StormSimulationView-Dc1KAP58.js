import{r as o,j as e}from"./index-DYtlKmld.js";import{u as Ce,S as Ee,a as we}from"./SiteInputPanel-DKOE9gXg.js";import{q as U,t as J,v as Re,w as Le,x as me,y as Q,z as ee,A as pe,D as De,E as ue,F as ae,G as Me,H as Oe,I as Te,r as he,J as _e,K as fe,M as Ke,S as Fe,N as We,O as ze,Q as ve,U as Ge,V as Be,W as Ve,Z as Xe,_ as Ye,f as $e,$ as He,h as Ue,a0 as Ze,a1 as qe,j as Y,a2 as Je,o as te,a3 as ie,i as _,a4 as Qe,a5 as ea,a6 as aa,a7 as O,a8 as ta,a9 as ia,aa as sa,ab as ra,m as xe,ac as na,ad as Z,ae as $,af as la,ag as oa,ah as ca,R as K,B as se,C as F,X as W,Y as z,T as G,a as re,L as B}from"./BarChart-BlfIKZbS.js";import{g as da,A as ne,D as ma,L as pa,a as le}from"./LineChart-CvZVAaVS.js";var ye=(t,a,i)=>me(t,"xAxis",Q(t,a),i),ge=(t,a,i)=>pe(t,"xAxis",Q(t,a),i),be=(t,a,i)=>me(t,"yAxis",ee(t,a),i),je=(t,a,i)=>pe(t,"yAxis",ee(t,a),i),ua=U([J,ye,be,ge,je],(t,a,i,s,r)=>ue(t,"xAxis")?ae(a,s,!1):ae(i,r,!1)),ha=(t,a)=>a,Se=U([Me,ha],(t,a)=>t.filter(i=>i.type==="area").find(i=>i.id===a)),Ie=t=>{var a=J(t),i=ue(a,"xAxis");return i?"yAxis":"xAxis"},fa=(t,a)=>{var i=Ie(t);return i==="yAxis"?ee(t,a):Q(t,a)},va=(t,a,i)=>Oe(t,Ie(t),fa(t,a),i),xa=U([Se,va],(t,a)=>{var i;if(!(t==null||a==null)){var{stackId:s}=t,r=De(t);if(!(s==null||r==null)){var l=(i=a[s])===null||i===void 0?void 0:i.stackedData,c=l?.find(n=>n.key===r);if(c!=null)return c.map(n=>[n[0],n[1]])}}}),ya=U([J,ye,be,ge,je,xa,Re,ua,Se,Le],(t,a,i,s,r,l,c,n,d,f)=>{var{chartData:p,dataStartIndex:x,dataEndIndex:y}=c;if(!(d==null||t!=="horizontal"&&t!=="vertical"||a==null||i==null||s==null||r==null||s.length===0||r.length===0||n==null)){var{data:v}=d,u;if(v&&v.length>0?u=v:u=p?.slice(x,y+1),u!=null)return _a({layout:t,xAxis:a,yAxis:i,xAxisTicks:s,yAxisTicks:r,dataStartIndex:x,areaSettings:d,stackedData:l,displayedData:u,chartBaseValue:f,bandSize:n})}}),ga=["id"],ba=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function M(){return M=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},M.apply(null,arguments)}function Ae(t,a){if(t==null)return{};var i,s,r=ja(t,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],a.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function ja(t,a){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(a.indexOf(s)!==-1)continue;i[s]=t[s]}return i}function oe(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function T(t){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?oe(Object(i),!0).forEach(function(s){Sa(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function Sa(t,a,i){return(a=Ia(a))in t?Object.defineProperty(t,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[a]=i,t}function Ia(t){var a=Aa(t,"string");return typeof a=="symbol"?a:a+""}function Aa(t,a){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function H(t,a){return t&&t!=="none"?t:a}var Na=t=>{var{dataKey:a,name:i,stroke:s,fill:r,legendType:l,hide:c}=t;return[{inactive:c,dataKey:a,type:l,color:H(s,r),value:ve(i,a),payload:t}]},ka=o.memo(t=>{var{dataKey:a,data:i,stroke:s,strokeWidth:r,fill:l,name:c,hide:n,unit:d,tooltipType:f,id:p}=t,x={dataDefinedOnItem:i,getPosition:Be,settings:{stroke:s,strokeWidth:r,fill:l,dataKey:a,nameKey:void 0,name:ve(c,a),hide:n,type:f,color:H(s,l),unit:d,graphicalItemId:p}};return o.createElement(Ge,{tooltipEntrySettings:x})});function Pa(t){var{clipPathId:a,points:i,props:s}=t,{needClip:r,dot:l,dataKey:c}=s,n=xe(s);return o.createElement(ma,{points:i,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:n,needClip:r,clipPathId:a})}function Ca(t){var{showLabels:a,children:i,points:s}=t,r=s.map(l=>{var c,n,d={x:(c=l.x)!==null&&c!==void 0?c:0,y:(n=l.y)!==null&&n!==void 0?n:0,width:0,lowerWidth:0,upperWidth:0,height:0};return T(T({},d),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return o.createElement(ra,{value:a?r:void 0},i)}function ce(t){var{points:a,baseLine:i,needClip:s,clipPathId:r,props:l}=t,{layout:c,type:n,stroke:d,connectNulls:f,isRange:p}=l,{id:x}=l,y=Ae(l,ga),v=xe(y),u=na(y);return o.createElement(o.Fragment,null,a?.length>1&&o.createElement(Y,{clipPath:s?"url(#clipPath-".concat(r,")"):void 0},o.createElement(Z,M({},u,{id:x,points:a,connectNulls:f,type:n,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&o.createElement(Z,M({},v,{className:"recharts-area-curve",layout:c,type:n,connectNulls:f,fill:"none",points:a})),d!=="none"&&p&&o.createElement(Z,M({},v,{className:"recharts-area-curve",layout:c,type:n,connectNulls:f,fill:"none",points:i}))),o.createElement(Pa,{points:a,props:y,clipPathId:r}))}function Ea(t){var a,i,{alpha:s,baseLine:r,points:l,strokeWidth:c}=t,n=(a=l[0])===null||a===void 0?void 0:a.y,d=(i=l[l.length-1])===null||i===void 0?void 0:i.y;if(!$(n)||!$(d))return null;var f=s*Math.abs(n-d),p=Math.max(...l.map(x=>x.x||0));return _(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(x=>x.x||0),p)),_(p)?o.createElement("rect",{x:0,y:n<d?n:n-f,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(f)}):null}function wa(t){var a,i,{alpha:s,baseLine:r,points:l,strokeWidth:c}=t,n=(a=l[0])===null||a===void 0?void 0:a.x,d=(i=l[l.length-1])===null||i===void 0?void 0:i.x;if(!$(n)||!$(d))return null;var f=s*Math.abs(n-d),p=Math.max(...l.map(x=>x.y||0));return _(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(x=>x.y||0),p)),_(p)?o.createElement("rect",{x:n<d?n:n-f,y:0,width:f,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function Ra(t){var{alpha:a,layout:i,points:s,baseLine:r,strokeWidth:l}=t;return i==="vertical"?o.createElement(Ea,{alpha:a,points:s,baseLine:r,strokeWidth:l}):o.createElement(wa,{alpha:a,points:s,baseLine:r,strokeWidth:l})}function La(t){var{needClip:a,clipPathId:i,props:s,previousPointsRef:r,previousBaselineRef:l}=t,{points:c,baseLine:n,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:x,onAnimationStart:y,onAnimationEnd:v}=s,u=o.useMemo(()=>({points:c,baseLine:n}),[c,n]),N=Qe(u,"recharts-area-"),b=ea(),[k,P]=o.useState(!1),S=!k,h=o.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),j=o.useCallback(()=>{typeof y=="function"&&y(),P(!0)},[y]);if(b==null)return null;var m=r.current,A=l.current;return o.createElement(Ca,{showLabels:S,points:c},s.children,o.createElement(aa,{animationId:N,begin:f,duration:p,isActive:d,easing:x,onAnimationEnd:h,onAnimationStart:j,key:N},g=>{if(m){var C=m.length/c.length,R=g===1?c:c.map((I,w)=>{var L=Math.floor(w*C);if(m[L]){var D=m[L];return T(T({},I),{},{x:O(D.x,I.x,g),y:O(D.y,I.y,g)})}return I}),E;return _(n)?E=O(A,n,g):ta(n)||ia(n)?E=O(A,0,g):E=n.map((I,w)=>{var L=Math.floor(w*C);if(Array.isArray(A)&&A[L]){var D=A[L];return T(T({},I),{},{x:O(D.x,I.x,g),y:O(D.y,I.y,g)})}return I}),g>0&&(r.current=R,l.current=E),o.createElement(ce,{points:R,baseLine:E,needClip:a,clipPathId:i,props:s})}return g>0&&(r.current=c,l.current=n),o.createElement(Y,null,d&&o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.createElement(Ra,{alpha:g,points:c,baseLine:n,layout:b,strokeWidth:s.strokeWidth}))),o.createElement(Y,{clipPath:"url(#animationClipPath-".concat(i,")")},o.createElement(ce,{points:c,baseLine:n,needClip:a,clipPathId:i,props:s})))}),o.createElement(sa,{label:s.label}))}function Da(t){var{needClip:a,clipPathId:i,props:s}=t,r=o.useRef(null),l=o.useRef();return o.createElement(La,{needClip:a,clipPathId:i,props:s,previousPointsRef:r,previousBaselineRef:l})}class Ma extends o.PureComponent{render(){var{hide:a,dot:i,points:s,className:r,top:l,left:c,needClip:n,xAxisId:d,yAxisId:f,width:p,height:x,id:y,baseLine:v,zIndex:u}=this.props;if(a)return null;var N=Ue("recharts-area",r),b=y,{r:k,strokeWidth:P}=da(i),S=Ze(i),h=k*2+P,j=n?"url(#clipPath-".concat(S?"":"dots-").concat(b,")"):void 0;return o.createElement(qe,{zIndex:u},o.createElement(Y,{className:N},n&&o.createElement("defs",null,o.createElement(Je,{clipPathId:b,xAxisId:d,yAxisId:f}),!S&&o.createElement("clipPath",{id:"clipPath-dots-".concat(b)},o.createElement("rect",{x:c-h/2,y:l-h/2,width:p+h,height:x+h}))),o.createElement(Da,{needClip:n,clipPathId:b,props:this.props})),o.createElement(ne,{points:s,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(v)&&o.createElement(ne,{points:v,mainColor:H(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var Ne={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:_e.area};function Oa(t){var a,i=he(t,Ne),{activeDot:s,animationBegin:r,animationDuration:l,animationEasing:c,connectNulls:n,dot:d,fill:f,fillOpacity:p,hide:x,isAnimationActive:y,legendType:v,stroke:u,xAxisId:N,yAxisId:b}=i,k=Ae(i,ba),P=Ve(),S=Xe(),{needClip:h}=Ye(N,b),j=fe(),{points:m,isRange:A,baseLine:g}=(a=$e(L=>ya(L,t.id,j)))!==null&&a!==void 0?a:{},C=He();if(P!=="horizontal"&&P!=="vertical"||C==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:R,width:E,x:I,y:w}=C;return!m||!m.length?null:o.createElement(Ma,M({},k,{activeDot:s,animationBegin:r,animationDuration:l,animationEasing:c,baseLine:g,connectNulls:n,dot:d,fill:f,fillOpacity:p,height:R,hide:x,layout:P,isAnimationActive:y==="auto"?!la.isSsr:y,isRange:A,legendType:v,needClip:h,points:m,stroke:u,width:E,left:I,top:w,xAxisId:N,yAxisId:b}))}var Ta=(t,a,i,s,r)=>{var l=i??a;if(_(l))return l;var c=t==="horizontal"?r:s,n=c.scale.domain();if(c.type==="number"){var d=Math.max(n[0],n[1]),f=Math.min(n[0],n[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(n[0],n[1]),0)}return l==="dataMin"?n[0]:l==="dataMax"?n[1]:n[0]};function _a(t){var{areaSettings:{connectNulls:a,baseValue:i,dataKey:s},stackedData:r,layout:l,chartBaseValue:c,xAxis:n,yAxis:d,displayedData:f,dataStartIndex:p,xAxisTicks:x,yAxisTicks:y,bandSize:v}=t,u=r&&r.length,N=Ta(l,c,i,n,d),b=l==="horizontal",k=!1,P=f.map((h,j)=>{var m,A,g,C;if(u)C=r[p+j];else{var R=te(h,s);Array.isArray(R)?(C=R,k=!0):C=[N,R]}var E=(m=(A=C)===null||A===void 0?void 0:A[1])!==null&&m!==void 0?m:null,I=E==null||u&&!a&&te(h,s)==null;if(b){var w;return{x:ie({axis:n,ticks:x,bandSize:v,entry:h,index:j}),y:I?null:(w=d.scale.map(E))!==null&&w!==void 0?w:null,value:C,payload:h}}return{x:I?null:(g=n.scale.map(E))!==null&&g!==void 0?g:null,y:ie({axis:d,ticks:y,bandSize:v,entry:h,index:j}),value:C,payload:h}}),S;return u||k?S=P.map(h=>{var j,m=Array.isArray(h.value)?h.value[0]:null;if(b){var A;return{x:h.x,y:m!=null&&h.y!=null&&(A=d.scale.map(m))!==null&&A!==void 0?A:null,payload:h.payload}}return{x:m!=null&&(j=n.scale.map(m))!==null&&j!==void 0?j:null,y:h.y,payload:h.payload}}):S=b?d.scale.map(N):n.scale.map(N),{points:P,baseLine:S??0,isRange:k}}function Ka(t){var a=he(t,Ne),i=fe();return o.createElement(Ke,{id:a.id,type:"area"},s=>o.createElement(o.Fragment,null,o.createElement(Fe,{legendPayload:Na(a)}),o.createElement(ka,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:s}),o.createElement(We,{type:"area",id:s,data:a.data,dataKey:a.dataKey,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,stackId:ze(a.stackId),hide:a.hide,barSize:void 0,baseValue:a.baseValue,isPanorama:i,connectNulls:a.connectNulls}),o.createElement(Oa,M({},a,{id:s}))))}var V=o.memo(Ka,Te);V.displayName="Area";var Fa=["axis"],Wa=o.forwardRef((t,a)=>o.createElement(oa,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fa,tooltipPayloadSearcher:ca,categoricalChartProps:t,ref:a}));const X={sand:{label:"Sand",Ks:117.8,psi:49.5,theta_e:.437,theta_i:.1},loamySand:{label:"Loamy Sand",Ks:29.9,psi:61.3,theta_e:.437,theta_i:.12},sandyLoam:{label:"Sandy Loam",Ks:10.9,psi:110.1,theta_e:.453,theta_i:.15},loam:{label:"Loam",Ks:3.4,psi:88.9,theta_e:.463,theta_i:.2},siltLoam:{label:"Silt Loam",Ks:6.5,psi:166.8,theta_e:.501,theta_i:.22},sandyClayLoam:{label:"Sandy Clay Loam",Ks:1.5,psi:218.5,theta_e:.398,theta_i:.2},clayLoam:{label:"Clay Loam",Ks:1,psi:208.8,theta_e:.464,theta_i:.25},siltyClayLoam:{label:"Silty Clay Loam",Ks:1,psi:273,theta_e:.471,theta_i:.25},clay:{label:"Clay (Glacial Till)",Ks:.3,psi:316.3,theta_e:.475,theta_i:.3}},q=[[0,0],[.042,.01],[.083,.022],[.125,.035],[.167,.048],[.208,.063],[.25,.08],[.292,.098],[.333,.12],[.375,.147],[.417,.181],[.438,.204],[.458,.235],[.479,.283],[.489,.357],[.5,.663],[.521,.735],[.542,.772],[.563,.799],[.583,.82],[.625,.85],[.667,.88],[.708,.916],[.75,.936],[.833,.952],[.917,.976],[1,1]],za=[2,5,10,25,50,100],Ga={2:{5:82,10:56,15:45,30:30,60:18,120:11,360:5,720:3,1440:1.7},5:{5:110,10:76,15:61,30:41,60:25,120:15,360:6.8,720:4,1440:2.3},10:{5:128,10:89,15:72,30:48,60:29,120:18,360:8,720:4.7,1440:2.7},25:{5:153,10:107,15:86,30:58,60:35,120:21,360:9.6,720:5.6,1440:3.3},50:{5:172,10:121,15:97,30:66,60:40,120:24,360:11,720:6.4,1440:3.7},100:{5:192,10:135,15:109,30:74,60:44,120:27,360:12,720:7.2,1440:4.2}};function Ba(t,a){const i=Ga[t];if(!i)return 0;const s=Object.keys(i).map(Number).sort((r,l)=>r-l);if(a<=s[0])return i[s[0]];if(a>=s[s.length-1])return i[s[s.length-1]];for(let r=0;r<s.length-1;r++)if(a>=s[r]&&a<=s[r+1]){const l=(Math.log(a)-Math.log(s[r]))/(Math.log(s[r+1])-Math.log(s[r]));return Math.exp(Math.log(i[s[r]])+l*(Math.log(i[s[r+1]])-Math.log(i[s[r]])))}return 0}function de(t){if(t<=0)return 0;if(t>=1)return 1;for(let a=0;a<q.length-1;a++){const[i,s]=q[a],[r,l]=q[a+1];if(t>=i&&t<=r)return s+(t-i)/(r-i)*(l-s)}return 1}function Va(t,a,i,s){const r=X[i],{Ks:l,psi:c}=r,n=r.theta_e-r.theta_i,d=1-s,f=a*60,p=a<=1?2:a<=6?5:10,x=Math.ceil(f/p),y=p/60;let v=.001,u=!1,N=0,b=0,k=0;const P=[];for(let S=0;S<x;S++){const h=S*p,j=(S+1)*p,m=de(h/f),g=(de(j/f)-m)*t,C=g/y,R=l*(1+c*n/v),E=R*y;let I,w;!u&&C<=R?(I=g,w=0):(u=!0,I=Math.min(E,g),w=Math.max(0,g-I)),v+=I;const L=I*d,D=w*d+g*s;N+=g,b+=L,k+=D;const ke=Math.floor(j/60),Pe=j%60;P.push({time:j,timeLabel:`${ke}:${Pe.toString().padStart(2,"0")}`,rainfall:+g.toFixed(3),intensity:+C.toFixed(1),infiltration:+L.toFixed(3),infRate:+(R*d).toFixed(1),runoff:+D.toFixed(3),cumRain:+N.toFixed(2),cumInf:+b.toFixed(2),cumRunoff:+k.toFixed(2)})}return P}function Ua(){const t=Ce(),[a,i]=o.useState("clayLoam"),[s,r]=o.useState(100),[l,c]=o.useState(6),n=t.analysisData?.lotSize??0,d=t.analysisData?.buildingArea??0,f=t.analysisData?.zoningPaveFrac??.15,p=n>0?Math.min((d+n*f)/n,.95):.5,y=Ba(s,l*60)*l,v=X[a],u=o.useMemo(()=>y<=0||n<=0?[]:Va(y,l,a,p),[y,l,a,p,n]),N=u.reduce((m,A)=>Math.max(m,A.intensity),0),b=u.length>0?u[u.length-1].cumRunoff:0,k=u.length>0?u[u.length-1].cumInf:0,P=n>0?b*n/1e3:0,S=u.find(m=>m.runoff>.01),h={background:"#0a150a",border:"1px solid rgba(57,211,83,0.35)",borderRadius:2,color:"#39d353",fontSize:11,fontFamily:"'Share Tech Mono', monospace"},j=n>0&&y>0;return e.jsxs("div",{className:"precip-view",children:[e.jsxs("div",{className:"precip-sidebar eng-sidebar",children:[e.jsxs("div",{className:"precip-sidebar-header",children:[e.jsx("h2",{children:"Storm Simulation"}),e.jsx("p",{className:"precip-subtitle",children:"Green-Ampt Infiltration · SCS Type II Hyetograph"})]}),e.jsx(Ee,{...t}),t.analysisData&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"precip-section",children:[e.jsx("label",{className:"precip-label",children:"Design Storm"}),e.jsxs("div",{className:"eng-manual-form",children:[e.jsxs("div",{className:"eng-field",children:[e.jsx("label",{className:"eng-field-label",children:"Return Period"}),e.jsx("select",{className:"dc-select",style:{width:"100%"},value:s,onChange:m=>r(+m.target.value),children:za.map(m=>e.jsxs("option",{value:m,children:[m,"-year"]},m))})]}),e.jsxs("div",{className:"eng-field",children:[e.jsx("label",{className:"eng-field-label",children:"Storm Duration"}),e.jsxs("select",{className:"dc-select",style:{width:"100%"},value:l,onChange:m=>c(+m.target.value),children:[e.jsx("option",{value:1,children:"1 hour"}),e.jsx("option",{value:6,children:"6 hours"}),e.jsx("option",{value:12,children:"12 hours"}),e.jsx("option",{value:24,children:"24 hours"})]})]}),e.jsxs("div",{className:"eng-field",children:[e.jsx("label",{className:"eng-field-label",children:"Soil Type (Green-Ampt)"}),e.jsx("select",{className:"dc-select",style:{width:"100%"},value:a,onChange:m=>i(m.target.value),children:Object.keys(X).map(m=>e.jsx("option",{value:m,children:X[m].label},m))})]})]})]}),e.jsxs("div",{className:"precip-section",children:[e.jsx("label",{className:"precip-label",children:"Soil Properties"}),e.jsxs("div",{className:"sim-soil-table",children:[e.jsxs("div",{className:"sim-soil-row",children:[e.jsxs("span",{children:["K",e.jsx("sub",{children:"s"})," (sat. conductivity)"]}),e.jsxs("strong",{children:[v.Ks," mm/hr"]})]}),e.jsxs("div",{className:"sim-soil-row",children:[e.jsx("span",{children:"ψ (capillary suction)"}),e.jsxs("strong",{children:[v.psi," mm"]})]}),e.jsxs("div",{className:"sim-soil-row",children:[e.jsxs("span",{children:["θ",e.jsx("sub",{children:"e"})," (eff. porosity)"]}),e.jsx("strong",{children:v.theta_e})]}),e.jsxs("div",{className:"sim-soil-row",children:[e.jsxs("span",{children:["M",e.jsx("sub",{children:"d"})," (moisture deficit)"]}),e.jsx("strong",{children:(v.theta_e-v.theta_i).toFixed(3)})]}),e.jsxs("div",{className:"sim-soil-row",children:[e.jsx("span",{children:"Impervious fraction"}),e.jsxs("strong",{children:[(p*100).toFixed(0),"%"]})]})]})]}),j&&e.jsxs("div",{className:"precip-section",children:[e.jsx("label",{className:"precip-label",children:"Results"}),e.jsxs("div",{className:"dc-stat-grid",children:[e.jsxs("div",{className:"dc-stat highlight",children:[e.jsxs("span",{className:"dc-stat-value",children:[y.toFixed(1)," mm"]}),e.jsx("span",{className:"dc-stat-label",children:"Total Rainfall"})]}),e.jsxs("div",{className:"dc-stat highlight",children:[e.jsxs("span",{className:"dc-stat-value",children:[b.toFixed(1)," mm"]}),e.jsx("span",{className:"dc-stat-label",children:"Total Runoff"})]}),e.jsxs("div",{className:"dc-stat",children:[e.jsxs("span",{className:"dc-stat-value",children:[k.toFixed(1)," mm"]}),e.jsx("span",{className:"dc-stat-label",children:"Infiltrated"})]}),e.jsxs("div",{className:"dc-stat",children:[e.jsxs("span",{className:"dc-stat-value",children:[N.toFixed(0)," mm/hr"]}),e.jsx("span",{className:"dc-stat-label",children:"Peak Intensity"})]}),e.jsxs("div",{className:"dc-stat",children:[e.jsxs("span",{className:"dc-stat-value",children:[P.toFixed(1)," m³"]}),e.jsx("span",{className:"dc-stat-label",children:"Runoff Volume"})]}),e.jsxs("div",{className:"dc-stat",children:[e.jsx("span",{className:"dc-stat-value",children:S?S.timeLabel:"N/A"}),e.jsx("span",{className:"dc-stat-label",children:"Ponding Begins"})]})]})]}),e.jsx("div",{className:"precip-section",children:e.jsxs("p",{className:"dc-note",children:["Model: Green-Ampt (f = K",e.jsx("sub",{children:"s"}),"(1 + ψM",e.jsx("sub",{children:"d"}),"/F)) with SCS Type II temporal distribution. Parameters from Rawls et al. (1983) per CIV E 321."]})})]}),e.jsxs("div",{className:"precip-section precip-footer-section",children:[e.jsxs("p",{className:"precip-hint",style:{fontSize:11},children:[e.jsx("strong",{children:"Real data:"})," Property — Edmonton Open Data. Soil params — Rawls et al. (1983). SCS Type II — USDA TR-55 (1986).",e.jsx("br",{}),e.jsx("strong",{children:"Approximate:"})," IDF intensities are representative of Edmonton, not verified from ECCC.",e.jsx("br",{}),"Theory: Bedient et al. (2019) · CIV E 321, U of A"]}),e.jsx("p",{className:"footer-credit",children:"HackED 2026 - University of Alberta"})]})]}),e.jsx("div",{className:"precip-main theme-dark",children:e.jsxs("div",{className:"sim-split-main",children:[e.jsx(we,{handleMapClick:t.handleMapClick,markerPos:t.markerPos,visibleMarkers:t.visibleMarkers,selected:t.selected,setSelected:t.setSelected,setClickMarker:t.setClickMarker,clickMarker:t.clickMarker,clickLoading:t.clickLoading,mode:t.mode,compact:!0}),j?e.jsxs("div",{className:"sim-charts-area",children:[e.jsxs("div",{className:"sim-chart-card",children:[e.jsx("h4",{children:"Rainfall Hyetograph (SCS Type II)"}),e.jsx(K,{width:"100%",height:180,children:e.jsxs(se,{data:u,children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"rgba(57,211,83,0.12)"}),e.jsx(W,{dataKey:"timeLabel",stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},minTickGap:30}),e.jsx(z,{stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},unit:" mm/hr"}),e.jsx(G,{contentStyle:h,formatter:m=>[`${m??0} mm/hr`]}),e.jsx(re,{dataKey:"intensity",fill:"#3b82f6",name:"Rainfall Intensity",radius:[1,1,0,0]}),e.jsx(B,{wrapperStyle:{fontSize:10}})]})})]}),e.jsxs("div",{className:"sim-chart-card",children:[e.jsx("h4",{children:"Infiltration Capacity vs Rainfall (Green-Ampt)"}),e.jsx(K,{width:"100%",height:180,children:e.jsxs(pa,{data:u,children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"rgba(57,211,83,0.12)"}),e.jsx(W,{dataKey:"timeLabel",stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},minTickGap:30}),e.jsx(z,{stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},unit:" mm/hr"}),e.jsx(G,{contentStyle:h}),e.jsx(le,{type:"monotone",dataKey:"intensity",stroke:"#3b82f6",name:"Rainfall (mm/hr)",dot:!1,strokeWidth:1.5}),e.jsx(le,{type:"monotone",dataKey:"infRate",stroke:"#22c55e",name:"Infiltration Capacity (mm/hr)",dot:!1,strokeWidth:1.5,strokeDasharray:"4 2"}),e.jsx(B,{wrapperStyle:{fontSize:10}})]})})]}),e.jsxs("div",{className:"sim-chart-card",children:[e.jsx("h4",{children:"Cumulative: Rainfall, Infiltration, Runoff (mm)"}),e.jsx(K,{width:"100%",height:200,children:e.jsxs(Wa,{data:u,children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"rgba(57,211,83,0.12)"}),e.jsx(W,{dataKey:"timeLabel",stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},minTickGap:30}),e.jsx(z,{stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},unit:" mm"}),e.jsx(G,{contentStyle:h}),e.jsx(V,{type:"monotone",dataKey:"cumRain",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.15,name:"Cumulative Rainfall",strokeWidth:2}),e.jsx(V,{type:"monotone",dataKey:"cumInf",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.15,name:"Cumulative Infiltration",strokeWidth:2}),e.jsx(V,{type:"monotone",dataKey:"cumRunoff",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.15,name:"Cumulative Runoff",strokeWidth:2}),e.jsx(B,{wrapperStyle:{fontSize:10}})]})})]}),e.jsxs("div",{className:"sim-chart-card",children:[e.jsx("h4",{children:"Runoff Depth per Interval (mm)"}),e.jsx(K,{width:"100%",height:160,children:e.jsxs(se,{data:u,children:[e.jsx(F,{strokeDasharray:"3 3",stroke:"rgba(57,211,83,0.12)"}),e.jsx(W,{dataKey:"timeLabel",stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},minTickGap:30}),e.jsx(z,{stroke:"rgba(57,211,83,0.4)",tick:{fontSize:9,fill:"rgba(57,211,83,0.5)"},unit:" mm"}),e.jsx(G,{contentStyle:h,formatter:m=>[`${(m??0).toFixed(2)} mm`]}),e.jsx(re,{dataKey:"runoff",fill:"#ef4444",name:"Runoff Depth",radius:[1,1,0,0]}),e.jsx(B,{wrapperStyle:{fontSize:10}})]})})]}),e.jsxs("div",{className:"sim-waterbalance",children:[e.jsx("h4",{children:"Water Balance (P − R − G − E − T = ΔS)"}),e.jsxs("div",{className:"sim-wb-row",children:[e.jsxs("div",{className:"sim-wb-item",children:[e.jsx("span",{className:"sim-wb-label",children:"P (Precipitation)"}),e.jsxs("span",{className:"sim-wb-val",children:[u.length>0?u[u.length-1].cumRain.toFixed(1):0," mm"]})]}),e.jsx("span",{className:"sim-wb-op",children:"−"}),e.jsxs("div",{className:"sim-wb-item",children:[e.jsx("span",{className:"sim-wb-label",children:"R (Surface Runoff)"}),e.jsxs("span",{className:"sim-wb-val",children:[b.toFixed(1)," mm"]})]}),e.jsx("span",{className:"sim-wb-op",children:"−"}),e.jsxs("div",{className:"sim-wb-item",children:[e.jsx("span",{className:"sim-wb-label",children:"Infiltration"}),e.jsxs("span",{className:"sim-wb-val",children:[k.toFixed(1)," mm"]})]}),e.jsx("span",{className:"sim-wb-op",children:"="}),e.jsxs("div",{className:"sim-wb-item",children:[e.jsx("span",{className:"sim-wb-label",children:"ΔS (Residual)"}),e.jsxs("span",{className:"sim-wb-val",children:[(u.length>0?u[u.length-1].cumRain-b-k:0).toFixed(2)," mm"]})]})]}),e.jsx("p",{className:"dc-note",style:{marginTop:8},children:"Evaporation (E) and transpiration (T) neglected for storm-event timescale per CIV E 321 (Bedient et al., 2019). G (groundwater) included in infiltration term."})]})]}):e.jsx("div",{className:"precip-overlay-loading",style:{flex:1},children:"Search or enter a property to run simulation"})]})})]})}export{Ua as default};
